It is straightforward to prove that $\maxp$ can compute any $\fo$-formula, is closed under first-order sum and product, and second-order maximization. 
Therefore, condition (1) in Definition~\ref{def:cap} follows similarly as in the previous characterizations. Furthermore, one can easily see that the same holds for $\minqso(\fo)$.
The proof for the other direction is similar to the one described in \cite{kolaitis1994logical} extended with the ideas of Theorem~\ref{theo:capture-fp}. Let $f\in \maxp$ be a function defined over some signature $\R$ and
$\ell\in\nat$ such that $\lceil\log_2 f(\enc(\A)) \rceil \leq |\A|^\ell$ for each $\A\in\ostr[\R]$.
For $U \subseteq A^{\ell}$, we can interpret the encoding of $U$ ($\enc(U)$) as the binary encoding of a number with $|\A|^\ell$-bits. We denote this value by $\val(\enc(U))$.
Then, given $\A\in\ostr[\R]$ and $U \subseteq A^{\ell}$, consider the problem of checking whether $f(\enc(\A)) \geq \val(\enc(U))$. 
Clearly, this is an $\np$-problem and, by Fagin's theorem, there exists a formula of the form $\ex{\bar{X}} \Phi(\bar{X}, Y)$ with $\Phi(\bar{X}, Y)$ in $\fo$ and $\arity(Y) = \ell$ such that $f(\enc(\A)) \geq \val(\enc(U))$ if, and only if, $(\A,v,V) \models \ex{\bar{X}} \Phi(\bar{X}, Y)$ with $V(Y) = U$. 
Then we can describe $f$ by the following $\maxqso$ formula:
$$
\alpha = \maxa{\bar{X}} \maxa{Y} \ \Phi(\bar{X}, Y) \cdot \big( \sa{\bar{x}} Y(\bar{x}) \cdot \pa{\bar{y}}(\bar{x} < \bar{y} \mapsto 2) \big).
$$
Note that, in contrast to previous proofs, we use $\bar{x} < \bar{y}$ instead of $\bar{y} < \bar{x}$ because the most significant bit in $\enc(U)$ correspond to the smallest tuple in $U$.  
It is easy to check that $\Phi(\bar{X}, Y)$ simulates the NP-machine and, if $\Phi(\bar{X}, Y)$ holds, the formula to the right  reconstructs the binary output from the relation in $Y$.
Then, $\alpha$ is in $\maxqso(\fo)$ over $\R$ and $\sem{\alpha}(\A) = f(\enc(\A))$. 

For the case of $\minqso(\fo)$ and a function $f \in \minp$, one has to follow the same approach but consider the $\np$-problem of checking whether $f(\enc(\A)) \leq \val(\enc(U))$. Then, the formula for describing $f$ is the following:
$$
\alpha = \mina{\bar{X}} \mina{Y} \ \sa{\bar{x}} \big( (\Phi(\bar{X}, Y) \rightarrow Y(\bar{x})) \cdot \pa{\bar{y}}(\bar{x} < \bar{y} \mapsto 2)  \big).
$$
In this case, if the formula $\Phi(\bar{X}, Y)$ is false, then the output produced by the subformula inside the $\min$-quantifiers will be the biggest possible value (i.e. $2^{{|\A|}^\ell}$).
On the other hand, if $\Phi(\bar{X}, Y)$ holds, the subformula will produce $\val(\enc(U))$. 
In a similar way as in $\max$, we conclude that $\alpha$ is in $\minqso(\fo)$ and $\sem{\alpha}(\A) = f(\enc(\A))$.
